window.addEventListener("DOMContentLoaded",()=>{const t=document.querySelectorAll(".tabs-header__item"),s=document.querySelectorAll(".tabs-content"),e=document.querySelector(".tabs-header__list");function n(){s.forEach(e=>{e.classList.add("hide"),e.classList.remove("show","fade")}),t.forEach(e=>{e.classList.remove("tabs-header__item--active")})}function o(e=0){s[e].classList.add("show","fade"),s[e].classList.remove("hide"),t[e].classList.add("tabs-header__item--active")}n(),o(),e.addEventListener("click",e=>{const s=e.target;s&&s.classList.contains("tabs-header__item")&&t.forEach((e,t)=>{s==e&&(n(),o(t))})});new Swiper(".swiper",{loop:!0,speed:500,spaceBetween:100,pagination:{el:".swiper-pagination",type:"bullets"},keyboard:{enabled:!0,onlyInViewport:!1},autoplay:{delay:5e3}});class a{constructor(e="img/lorem/test.jpg",t="test",s="Lorem ipsum",n="Lorem ipsum dolor sit amet consectetur adipisicing elit. Placeat illo voluptatum corporis obcaecati magni repellendus.",o=10,a=".menu .menu__inner",...i){this.src=e,this.alt=t,this.title=s,this.descr=n,this.price=o,this.parent=document.querySelector(a),this.classes=i,this.transfer=60}render(){const t=document.createElement("div");0===this.classes.length?(this.element="menu__item",t.classList.add(this.element)):this.classes.forEach(e=>t.classList.add(e)),t.innerHTML=`
        <img src="${this.src}" alt="${this.alt}">
        <h3 class="menu__item-title">${this.title}</h3>
        <div class="menu__item-text">${this.descr}</div>
        <div class="menu__item-price">
          <div class="menu__item-cost">
            Cost:
          </div>
          <a class="menu__item-total" href="#">
            <span>${this.price}</span> USD/day
          </a>
        </div>
      `,this.parent.append(t)}}new a("images/menu/1.jpg","item",'Menu "Fitness"','Menu "Fitness" is a new approach to cooking: more fresh vegetables and fruits. Product of active and healthy people. This is a brand new product with the best price and high quality!',20).render(),new a("images/menu/2.jpg","item",'Menu "Lenten"','The "Lenten" menu is a careful selection of ingredients: the complete absence of animal products, milk from almonds, oats, coconut or buckwheat, the right amount of protein from tofu and imported vegetarian steaks.',20).render(),new a("images/menu/3.jpg","item",'Menu "Premium"','In the "Premium" menu, we use not only beautiful packaging design, but also high-quality execution of dishes. Red fish, seafood, fruits - a restaurant menu without going to a restaurant!',20).render(),new a("images/menu/1.jpg","item",'Menu "Fitness"','Menu "Fitness" is a new approach to cooking: more fresh vegetables and fruits. Product of active and healthy people. This is a brand new product with the best price and high quality!',20).render();const i=document.querySelector(".modal"),r=document.querySelector("[data-modal]");function c(){i.classList.remove("show-modal"),i.classList.add("hide"),document.body.style.overflow=""}function d(){i.classList.remove("hide"),i.classList.add("show-modal"),i.classList.add("been-opened"),document.body.style.overflow="hidden",clearInterval(l)}r.addEventListener("click",d),i.addEventListener("click",e=>{e.target!==i&&""!==e.target.getAttribute("data-modal-close")||c()}),document.addEventListener("keydown",e=>{"Escape"===e.code&&i.classList.contains("show-modal")&&c()});const l=setTimeout(d,1e4);window.addEventListener("scroll",function e(){window.pageYOffset+document.documentElement.clientHeight>=document.documentElement.scrollHeight&&!i.classList.contains("been-opened")&&(setTimeout(d,0),window.removeEventListener("scroll",e))});function m(e){return 0<=e&&e<10?"0"+e:e}{var u=".timer",h="2023-05-20";const g=document.querySelector(u),y=g.querySelector("#days"),L=g.querySelector("#hours"),w=g.querySelector("#minutes"),_=g.querySelector("#seconds"),b=setInterval(p,1e3);function p(){var e=function(e){let t,s,n,o;return(e=Date.parse(e)-Date.parse(new Date))<=0?(document.querySelectorAll(".timer__block").forEach(e=>{e.remove()}),document.querySelector(".timer").classList.add("timeisover"),document.querySelector(".timer").append("Акция завершена!")):(t=Math.floor(e/864e5),s=Math.floor(e/36e5%24),n=Math.floor(e/6e4%60),o=Math.floor(e/1e3%60)),{total:e,days:t,hours:s,minutes:n,seconds:o}}(h);y.innerHTML=m(e.days),L.innerHTML=m(e.hours),w.innerHTML=m(e.minutes),_.innerHTML=m(e.seconds),e.total<=0&&clearInterval(b)}p()}u=document.querySelectorAll("form");const f={loading:"images/form/spin-onload.svg",success:"Thanks! <br> We will contact you soon",failure:"Error"};function v(e){const t=document.querySelector(".modal__dialog"),s=(t.classList.add("hide"),d(),document.createElement("div"));s.classList.add("modal__dialog"),s.innerHTML=`
      <div class="modal__content">
        <div class="modal__close" data-modal-close>×</div>
        <div class="modal__title">${e}</div>
      </div>
    `,document.querySelector(".modal").append(s),setTimeout(()=>{s.remove(),t.classList.add("show-modal"),t.classList.remove("hide"),c(),document.querySelector(".modal__content").style.paddingBottom="40px"},4e3)}u.forEach(e=>{var o;(o=e).addEventListener("submit",e=>{e.preventDefault();const t=document.createElement("img"),s=(t.src=f.loading,t.style.cssText=`
        display: block;
        margin: 15px auto 0;
      `,document.querySelector(".modal__content").style.paddingBottom="20px",o.insertAdjacentElement("afterend",t),new XMLHttpRequest);s.open("POST","server.php"),s.setRequestHeader("Content-type","application/json");e=new FormData(o);const n={};e.forEach(function(e,t){n[t]=e});e=JSON.stringify(n);s.send(e),s.addEventListener("load",()=>{200===s.status?(console.log(s.response),v(f.success),o.reset(),t.remove()):v(f.failure)})})})});